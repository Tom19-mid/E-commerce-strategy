/* ===================== 4TL — MENU DANH MỤC (FINAL) ===================== */
/* [THÊM] Bỏ underline tuyệt đối trong dropdown danh mục */
#megaMenuContent a,
#megaMenuContent a:hover,
#megaMenuContent a:focus,
.vertical-menu a,
.vertical-menu a:hover,
.vertical-menu a:focus {
  text-decoration: none !important;
}

/* [THÊM] Container dropdown ôm sát nội dung, không còn hộp trắng dài */
.dm-container{
  display: inline-block !important; /* ôm đúng khối menu dọc */
  width: auto !important;
  min-width: unset !important;
  max-width: unset !important;
  padding: 0 !important;
  border-radius: 12px;
}

/* [SỬA] Khối menu dọc gọn gàng */
.vertical-menu{
  width: 260px;           /* giữ kích thước gọn (bạn có thể 250–280) */
  margin: 0;
  padding: 0;
  list-style: none;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  background: #fff;
  box-shadow: 0 8px 20px rgba(0,0,0,.05);
  position: relative;
  z-index: 1000;
}
.vertical-menu .menu-item{ position: relative; border-bottom:1px solid #eee; }
.vertical-menu .menu-item > a{
  display:flex; align-items:center; gap:.6rem;
  padding:12px 16px; color:#111827; background:#fff;
  transition: background-color .15s ease;
}
.vertical-menu .menu-item:hover > a{ background:#f5f5f5; }
.vertical-menu .menu-item.has-children > a .fa-angle-right{ margin-left:auto; opacity:.5; transition:transform .16s ease, opacity .16s ease; }
.vertical-menu .menu-item.has-children:hover > a .fa-angle-right{ transform:translateX(2px); opacity:.9; }

/* [SỬA] Mega-menu hiển thị bên phải — FIT NỘI DUNG + cuộn khi dài */
.vertical-menu .mega-menu{
  display:none;
  position:absolute; left:100%; top:0;
  width:max-content;                 /* ôm theo nội dung */
  min-width:300px;                   /* tránh quá hẹp */
  max-width:clamp(320px, 30vw, 520px);
  max-height:60vh; overflow:auto;
  padding:16px;
  background:#fff;
  border:1px solid #e5e7eb;
  border-radius:12px;
  box-shadow:0 10px 30px rgba(0,0,0,.08);
  z-index:1050;
  opacity:0; transform:translateY(4px) scale(.98);
  transition:opacity .16s ease, transform .16s ease;
}
.vertical-menu .menu-item:hover > .mega-menu{ display:block; opacity:1; transform:translateY(0) scale(1); }

/* [THÊM] Lưới bên trong mega-menu: vô hiệu % của Bootstrap để khỏi kéo dài */
.dm-grid{
  display:flex; flex-wrap:wrap; gap:8px 16px;
  width:max-content;         /* khung lưới fit theo cột */
}
.dm-col{
  flex:0 0 auto;             /* không chiếm theo % */
  width:auto;
  min-width:220px;           /* mỗi cột tối thiểu */
  max-width:320px;
}

/* [THÊM] Link trong mega-menu: hover đẹp, không underline */
.mega-menu a{ color:#111827; border-radius:8px; }
.mega-menu .dm-section{ padding:6px 8px; }          /* tiêu đề cấp 2 */
.mega-menu .dm-list li a{ display:block; padding:6px 8px; }
.mega-menu .dm-list li a:hover,
.mega-menu .dm-section:hover{
  background:#f3f4f6; color:#111827; text-decoration:none !important;
}

/* [THÊM] Hỗ trợ mở bằng click trên mobile (class .open đã gắn trong JS) */
@media (max-width: 991.98px){
  .vertical-menu{ width:100%; }
  .vertical-menu .menu-item.open > .mega-menu{ display:block; opacity:1; transform:none; position:static; width:100%; max-width:none; max-height:none; box-shadow:none; border:0; padding:8px 0 12px; }
  .dm-container{ left:0 !important; width:100vw !important; max-width:100vw !important; }
}
